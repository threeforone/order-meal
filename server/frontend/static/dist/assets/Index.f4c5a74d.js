import{o as i}from"./order.c7cc57c7.js";import{d as b,r as f,i as T,k as y,o as h,c as x,a as s,y as o,e as g,l as v,b as B,p as D,h as I,_ as S}from"./index.0d91fd13.js";import"./http.b92c0875.js";const w=n=>(D("data-v-b7cafbbb"),n=n(),I(),n),k={class:"main"},F={id:"clock",style:{float:"left"}},A=w(()=>s("span",null,"\u70B9\u9910\u65F6\u95F4\xA0\xA0\xA0\xA0",-1)),N={id:"clock"},O=b({__name:"Index",setup(n){const c=f(""),a={startTime:"00:00",endTime:"23:59"},e={disabled:!1,type:"primary",msg:"\u70B9\u9910"},p=async()=>{i.getOrderTime().then(t=>{a.startTime=t.data.data.startTime,a.endTime=t.data.data.endTime})},m=async()=>{i.getOrderStatus().then(t=>{t.data.data==1&&(e.disabled=!0,e.type="success",e.msg="\u5DF2\u70B9\u9910")})},_=()=>{i.postOrder().then(t=>{t.data.code==200?(e.disabled=!0,e.type="success",e.msg="\u5DF2\u70B9\u9910",alert("\u70B9\u9910\u767B\u8BB0\u6210\u529F")):alert(t.data.data)})};return T(()=>{p(),m(),setInterval(()=>{if(c.value=new Date().toLocaleTimeString(),e.type!=="success"){let t=new Date,r=new Date(t),d=a.startTime.split(":").map(Number);r.setHours(d[0],d[1],0);let u=new Date(t),l=a.endTime.split(":").map(Number);u.setHours(l[0],l[1],59),t>=r&&t<=u||(e.disabled=!0,e.type="warning",e.msg="\u4E0D\u53EF\u70B9\u9910")}},1e3)}),(t,r)=>{const d=y("el-button");return h(),x("div",k,[s("div",null,[s("div",F,[A,s("span",null,o(a.startTime)+"--",1),s("span",null,o(a.endTime),1)]),s("div",N,o(c.value),1)]),g(d,{type:e.type,disabled:e.disabled,size:"large",style:{"margin-top":"50px"},onClick:_},{default:v(()=>[B(o(e.msg),1)]),_:1},8,["type","disabled"])])}}});const H=S(O,[["__scopeId","data-v-b7cafbbb"]]);export{H as default};
