import{d as f,r as w,u as p,o as m,c,a as o,w as l,b as v,v as i,e as y,f as A,g as E,E as I,p as k,h as D,_ as h}from"./index.0d91fd13.js";import{C as g}from"./Company.ee2cccd2.js";import{u as _}from"./user.806902e7.js";import"./http.b92c0875.js";const C=a=>(k("data-v-cd1fb865"),a=a(),D(),a),U={key:0,class:"container b-container",id:"b-container"},V={class:"form",id:"b-form",method:"",action:""},S=C(()=>o("h2",{class:"form_title title"},"\u6B22\u8FCE\u767B\u9646\u70B9\u9910\u7EDF\u8BA1\u7CFB\u7EDF",-1)),N={class:"login-info"},M={key:1,class:"container a-container",id:"a-container"},$=C(()=>o("h2",{class:"form_title title"},"\u6B22\u8FCE\u4F7F\u7528\u70B9\u9910\u7EDF\u8BA1\u7CFB\u7EDF",-1)),L=f({components:{CompanyComponent:g}}),O=f({...L,__name:"Login",setup(a){const u={username:"",password:""},B=()=>{_.login(u).then(e=>{e.data.code===200?(window.localStorage.setItem("jwt",e.data.data.token),window.localStorage.setItem("user",JSON.stringify(e.data.data.user)),E.push("/home")):alert(e.data.message)})},n={username:"",password:"",companyId:"",departmentId:""},F=()=>{_.signUp(n).then(e=>{e.data.code===200?(alert("\u6CE8\u518C\u6210\u529F\uFF0C\u7B49\u5F85\u5BA1\u6838"),d("signIn")):alert(e.data.message)})},x=(e,t)=>{n.companyId=e,n.departmentId=t},b=()=>{I({message:"\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u91CD\u7F6E\u5BC6\u7801",type:"success"})};let r=w("signIn");const d=e=>{r.value=e};return(e,t)=>p(r)==="signIn"?(m(),c("div",U,[o("form",V,[S,l(o("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>u.username=s),class:"form__input",type:"text",placeholder:"\u7528\u6237\u540D"},null,512),[[i,u.username]]),l(o("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>u.password=s),class:"form__input",type:"password",placeholder:"\u5BC6\u7801"},null,512),[[i,u.password]]),o("div",N,[o("a",{class:"form__link",onClick:b},"\u5FD8\u8BB0\u5BC6\u7801"),v(" \xA0\xA0\xA0\xA0 "),o("a",{class:"form__link",onClick:t[2]||(t[2]=s=>d("signUp"))},"\u6CE8\u518C\u8D26\u6237")]),o("button",{class:"form__button button submit",onClick:t[3]||(t[3]=s=>B())}," \u767B\xA0\xA0\xA0\xA0\xA0\xA0\u9646 ")])])):p(r)==="signUp"?(m(),c("div",M,[o("form",{model:n,class:"form",id:"a-form",method:"",action:""},[$,l(o("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>n.username=s),class:"form__input",type:"text",placeholder:"\u7528\u6237\u540D"},null,512),[[i,n.username]]),l(o("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>n.password=s),class:"form__input",type:"password",placeholder:"\u5BC6\u7801"},null,512),[[i,n.password]]),y(g,{onSelectedOptions:x,style:{"margin-left":"-90px"}}),o("div",null,[o("button",{class:"form__button button submit",onClick:t[6]||(t[6]=s=>F())},"\u6CE8\u518C"),o("button",{class:"form__button button submit",onClick:t[7]||(t[7]=s=>d("signIn")),style:{width:"100px","margin-left":"20px","background-color":"green"}},"\u8FD4\u56DE\u767B\u5F55")])])])):A("",!0)}});const q=h(O,[["__scopeId","data-v-cd1fb865"]]);export{q as default};
